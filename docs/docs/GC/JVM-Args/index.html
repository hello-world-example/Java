<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>J v M Args | Java</title>


<link rel="stylesheet" href="/Java/book.min.79de1f7861b0c98f453c0a93bebf3608a280809e417787746c373699639900d7.css">




<link rel="icon" href="/Java/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://hello-world-example.github.io/Java/">Java</a>
</h2>






    
  
  
  

  <style>
  nav ul a[href$="\2fJava\2f docs\2fGC\2fJVM-Args\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><p><strong>GC</strong></p>

<ul>
<li><a href="/Java/docs/GC/JVM-Args/">JVM å‚æ•°</a></li>
</ul></li>

<li><p><strong>java.lang</strong></p>

<ul>
<li><a href="/Java/docs/java.lang/SecurityManager/">SecurityManager</a></li>
</ul></li>

<li><p><strong>java.time</strong></p>

<ul>
<li><a href="/Java/docs/java.time/Core/">å…³é”®æ¦‚å¿µ</a></li>
<li><a href="/Java/docs/java.time/Action/">å¸¸è§æ“ä½œ</a></li>
<li><a href="/Java/docs/java.time/Gap/">æ—¶é—´åŒºé—´</a></li>
</ul></li>

<li><p><a href="/Java-IO"><strong>java.nio ğŸ”—</strong></a></p></li>

<li><p><a href="/Java-Concurrent"><strong>java.util.concurrent ğŸ”—</strong></a></p></li>

<li><p><a href="/Troubleshooting/docs/Java/"><strong>å†…ç½®å·¥å…· ğŸ”—</strong></a></p></li>
</ul>







</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/Java/svg/menu.svg" alt="Menu" />
  </label>
  <strong>J v M Args</strong>
</header>

      
<article class="markdown">

<h1 id="jvm-å‚æ•°">JVM å‚æ•°</h1>

<h2 id="å†…å­˜åˆ†ä»£">å†…å­˜åˆ†ä»£</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><strong>-Xms4096M</strong></td>
<td>åˆå§‹åŒ–å †å¤§å°</td>
</tr>

<tr>
<td align="center"><strong>-Xmx4096M</strong></td>
<td>æœ€å¤§å †å¤§å°</td>
</tr>

<tr>
<td align="center">-Xss1024k<br />-XX:ThreadStackSize=</td>
<td>æ¯ä¸ªçº¿ç¨‹çš„å †æ ˆå¤§å°(å»ºè®®ä¸è¦è¶…è¿‡1M)</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><em>â€“Xmn1024M</em></td>
<td>å¹´è½»ä»£å¤§å°(å®˜æ–¹æ¨èé…ç½®ä¸ºæ•´ä¸ªå †çš„3/8)</td>
</tr>

<tr>
<td align="center"><em>-XX:NewSize=1024M</em></td>
<td>å¹´è½»ä»£åˆå§‹åŒ–å¤§å°</td>
</tr>

<tr>
<td align="center"><em>-XX:MaxNewSize=1024M</em></td>
<td>å¹´è½»ä»£å†æ‰“åŒ–å¤§å° æœ€å¤§</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:NewRatio=2</strong></td>
<td>å¹´è½»ä»£:å¹´è€ä»£=1:2ï¼Œå¹´è½»ä»£å æ•´ä¸ªå †çš„1/3 ã€‚<strong>è®¾ç½®è¯¥å€¼çš„æƒ…å†µä¼šå¿½ç•¥æ‰ -Xmn</strong></td>
</tr>

<tr>
<td align="center"><strong>-XX:SurvivorRatio=3</strong></td>
<td><code>S0:S1:Eden=1:1:3</code>ï¼Œæ•´ä¸ªSurvivorå å¹´è½»ä»£çš„ <sup>2</sup>&frasl;<sub>5</sub></td>
</tr>

<tr>
<td align="center">-XX:MaxTenuringThreshold=15</td>
<td>å¯¹è±¡å¹´é¾„åˆ°15å²çš„æ—¶å€™æ™‹å‡åˆ°è€å¹´ä»£ï¼Œ<strong>é»˜è®¤æ˜¯15</strong></td>
</tr>

<tr>
<td align="center">-XX:TargetSurvivorRatio=90</td>
<td>è¡¨ç¤ºMinorGCç»“æŸäº†SurvivoråŒºåŸŸä¸­å ç”¨ç©ºé—´çš„æœŸæœ›æ¯”ä¾‹ã€‚æœŸæœ›æœªè¾¾åˆ°æ—¶ï¼Œé‡æ–°è°ƒæ•´TenuringThresholdå€¼ï¼Œè®©å¯¹è±¡å°½æ—©çš„å»oldåŒºï¼Œ<strong>é»˜è®¤æ˜¯50</strong></td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><del>-XX:PermSize=256M</del></td>
<td>æŒä¹…ä»£åˆå§‹åŒ–å¤§å°</td>
</tr>

<tr>
<td align="center"><del>-XX:MaxPermSize=256M</del></td>
<td>æŒä¹…ä»£æœ€å¤§å¤§å°</td>
</tr>

<tr>
<td align="center"><code>-XX:MetaspaceSize=256M</code></td>
<td>JDK8 å…ƒæ•°æ®ç©ºé—´åˆå§‹å¤§å°</td>
</tr>

<tr>
<td align="center"><code>-XX:MaxMetaspaceSize=256m</code></td>
<td>JDK8 å…ƒæ•°æ®ç©ºé—´æœ€å¤§å€¼</td>
</tr>
</tbody>
</table>

<h2 id="åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">-server</td>
<td>x64 ä¸‹åªæœ‰serveræ¨¡å¼ï¼›æ–°ç”Ÿä»£é»˜è®¤<code>Parallel Scavenge</code>ï¼Œè€å¹´ä»£é»˜è®¤ <code>Serial Old</code></td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:+UseConcMarkSweepGC</strong></td>
<td>ParNew + CMS + Serial Old</td>
</tr>

<tr>
<td align="center"><strong>-XX:ConcGCThreads=2</strong></td>
<td>å¹¶å‘æ”¶é›†çº¿ç¨‹æ•°ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®åˆ™ä¸º(ParallelGCThreads + 3)/4</td>
</tr>

<tr>
<td align="center">-XX:CMSFullGCsBeforeCompaction=0</td>
<td>è¿è¡Œå¤šå°‘æ¬¡FullGCä»¥åå¯¹å†…å­˜ç©ºé—´è¿›è¡Œå‹ç¼©ã€æ•´ç†, é»˜è®¤æ˜¯0</td>
</tr>

<tr>
<td align="center">-XX:+UseCMSCompactAtFullCollection</td>
<td>å¯ä»¥å¯¹å¹´è€ä»£çš„å‹ç¼©ï¼Œé»˜è®¤æ˜¯æ‰“å¼€çš„</td>
</tr>

<tr>
<td align="center">-XX:CMSInitiatingOccupancyFraction=75</td>
<td>è®¾ç½®æ‰§è¡ŒGCçš„é˜ˆå€¼ï¼Œå¦‚75ï¼Œåˆ™å ç”¨ç©ºé—´åˆ°è¾¾75%çš„æ—¶å€™å¼€å§‹GC</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-XX:+UseG1GC</td>
<td>ä½¿ç”¨G1GC</td>
</tr>

<tr>
<td align="center">-XX:G1HeapRegionSize=n</td>
<td>å€¼æ˜¯ 2 çš„å¹‚ï¼ŒèŒƒå›´æ˜¯ 1 MB åˆ° 32 MB ä¹‹é—´ã€‚ç›®æ ‡æ˜¯æ ¹æ®æœ€å°çš„ Java å †å¤§å°åˆ’åˆ†å‡ºçº¦ 2048 ä¸ªåŒºåŸŸ</td>
</tr>

<tr>
<td align="center">-XX:MaxGCPauseMillis=200</td>
<td>GCå¯ä»¥æš‚åœå¤šé•¿æ—¶é—´ã€‚ è¿™åªæ˜¯ä¸ªå»ºè®®å€¼ï¼ŒG1GC æš‚åœçš„æ—¶é—´ä¼šå°½å¯èƒ½æ¯”è¿™ä¸ªå€¼çŸ­ã€‚é»˜è®¤å€¼æ˜¯ 200 æ¯«ç§’</td>
</tr>

<tr>
<td align="center">-XX:G1HeapWastePercent=10</td>
<td>è®¾ç½®æ‚¨æ„¿æ„æµªè´¹çš„å †ç™¾åˆ†æ¯”ã€‚ åƒåœ¾è¶Šå¤§ï¼Œ GC åœ¨æ–°åŒºåŸŸåˆ†é…å¯¹è±¡æ—¶è¶Šå¿«ï¼Œè€Œä¸æ˜¯è¯•å›¾å°†è¿™äº›ç©ºé—´æµªè´¹æ‰</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:UseParallelOldGC</strong></td>
<td>Parallel Scavenge + Parallel Old</td>
</tr>

<tr>
<td align="center">-XX:ParallelGCThreads=4</td>
<td>å¹¶è¡Œæ”¶é›†çº¿ç¨‹æ•°ï¼Œé»˜è®¤æ˜¯CPUä¸ªæ•°</td>
</tr>

<tr>
<td align="center">-XX:MaxGCPauseMillis=n</td>
<td>å¹¶è¡Œæ”¶é›†æœ€å¤§æš‚åœæ—¶é—´</td>
</tr>

<tr>
<td align="center">-XX:GCTimeRatio=n</td>
<td>GCæ—¶é—´å ç¨‹åºæ—¶é—´çš„ç™¾åˆ†æ¯”,å…¬å¼ä¸º1/(1+n)</td>
</tr>

<tr>
<td align="center">-XX:+UseAdaptiveSizePolicy</td>
<td>è‡ªåŠ¨é€‰æ‹©å¹´è½»ä»£åŒºå¤§å°å’Œç›¸åº”çš„SurvivoråŒºæ¯”ä¾‹ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ç³»ç»Ÿè§„å®šçš„æœ€ä½ç›¸åº”æ—¶é—´æˆ–è€…æ”¶é›†é¢‘ç‡ç­‰;è®¾ç½®è¯¥é€‰é¡¹ä¹‹åï¼Œå°±ä¸è¦å†è®¾ç½® -Xmnã€-XX:SurvivorRatioã€-XX:MaxTenuringThreshold ç­‰é€‰é¡¹äº†ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½® -Xmsã€-Xmxè§„å®šä¸€ä¸‹æ•´ä¸ªå †çš„å¤§å°</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><em>-XX:UseParallelGC</em></td>
<td>Parallel Scavenge + Serial Old</td>
</tr>

<tr>
<td align="center"><em>-XX:UseParNewGC</em></td>
<td>ParNew + Serial Old</td>
</tr>

<tr>
<td align="center">-XX:UseSerialGC</td>
<td>Serial + Serial Old</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Xnoclassgc</td>
<td>ç¦ç”¨åƒåœ¾å›æ”¶ï¼Œæ…ç”¨</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-XX:+DisableExplicitGC</td>
<td>ç¦ç”¨<code>System.gc()</code></td>
</tr>

<tr>
<td align="center">-XX:+ExplicitGCInvokesConcurrent</td>
<td>å½“è°ƒç”¨<code>System.gc()</code>çš„æ—¶å€™ï¼Œæ‰§è¡Œå¹¶è¡Œgcã€‚é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œåªæœ‰ä½¿ç”¨<code>-XX:+UseConcMarkSweepG</code>Cé€‰é¡¹çš„æ—¶å€™æ‰èƒ½å¼€å¯è¿™ä¸ªé€‰é¡¹ã€‚</td>
</tr>

<tr>
<td align="center">-XX:+ExplicitGCInvokesConcurrentAndUnloadsClasses</td>
<td>å½“è°ƒç”¨<code>System.gc()</code>çš„æ—¶å€™ï¼Œ æ‰§è¡Œå¹¶è¡Œgcã€‚å¹¶åœ¨åƒåœ¾å›æ”¶çš„å‘¨æœŸå†…å¸è½½ç±»ã€‚ åªæœ‰ä½¿ç”¨<code>-XX:+UseConcMarkSweepGC</code>é€‰é¡¹çš„æ—¶å€™æ‰èƒ½å¼€å¯è¿™ä¸ªé€‰é¡¹ã€‚</td>
</tr>
</tbody>
</table>

<blockquote>
<p><a href="https://github.com/kailbin/blog/issues/7">Java GC æ€»ç»“</a></p>
</blockquote>

<h2 id="æ•…éšœæ’æŸ¥">æ•…éšœæ’æŸ¥</h2>

<table>
<thead>
<tr>
<th align="center">æè¿°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">-<strong>Xloggc:/opt/logs/resin/GC.log</strong></td>
<td>æŠŠGCä¿¡æ¯è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå’Œverbose:gcçš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœè¿™ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·ä½¿ç”¨çš„è¯ï¼ŒXloggcä¼šè¦†ç›–verboseå‘½ä»¤</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintGC</strong></td>
<td>æ‰“å°GCä¿¡æ¯</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintGCDetails</strong></td>
<td>æ‰“å°GCè¯¦ç»†ä¿¡æ¯</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintGCApplicationConcurrentTime</strong></td>
<td>æ‰“å°è‡ªä»ä¸Šæ¬¡GCåœé¡¿åˆ°ç°åœ¨è¿‡å»äº†å¤šå°‘æ—¶é—´</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintGCApplicationStoppedTime</strong></td>
<td>æ‰“å°GCä¸€å…±åœé¡¿äº†å¤šé•¿æ—¶é—´</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintHeapAtGC</strong></td>
<td>åœ¨GCçš„æ—¶å€™æ‰“å°å †ä¿¡æ¯</td>
</tr>

<tr>
<td align="center">-XX:+PrintGCDateStamps</td>
<td>æ‰“å°GC æ—¥æœŸ</td>
</tr>

<tr>
<td align="center"><strong>-XX:+PrintGCTimeStamps</strong></td>
<td>æ‰“å°GCæ—¶é—´æˆ³</td>
</tr>

<tr>
<td align="center">-XX:-PrintTenuringDistribution</td>
<td>æ‰“å°å„ä»£ä¿¡æ¯</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:ErrorFile=/opt/logs/hs_err_pid.log</strong></td>
<td>å¦‚æœJVM crashedï¼Œå°†é”™è¯¯æ—¥å¿—è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶è·¯å¾„ã€‚</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:+HeapDumpOnOutOfMemoryError</strong></td>
<td>åœ¨OOMæ—¶ï¼Œè¾“å‡ºä¸€ä¸ªdump.coreæ–‡ä»¶ï¼Œè®°å½•å½“æ—¶çš„å †å†…å­˜å¿«ç…§ã€‚</td>
</tr>

<tr>
<td align="center">-<strong>XX:HeapDumpPath=/opt/logs/java_pid.hprof</strong></td>
<td>å †å†…å­˜å¿«ç…§çš„å­˜å‚¨æ–‡ä»¶è·¯å¾„ã€‚</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-verbose:class</td>
<td>å±•ç¤ºå‡ºæ¯ä¸€ä¸ªç±»è¢«åŠ è½½çš„ä¿¡æ¯</td>
</tr>

<tr>
<td align="center">-verbose:gc</td>
<td>å±•ç¤ºå‡ºæ¯ä¸€æ¬¡åƒåœ¾å›æ”¶äº‹ä»¶</td>
</tr>

<tr>
<td align="center">-verbose:jni</td>
<td>å±•ç¤ºæœ¬åœ°æ–¹æ³•çš„ä½¿ç”¨ï¼Œä»¥åŠæœ¬åœ°æ¥å£çš„æ´»åŠ¨</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Xverify:mode</td>
<td>è®¾ç½®å­—èŠ‚ç éªŒè¯æ¨¡å¼ã€‚å­—èŠ‚ç éªŒè¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°ä¸€äº›é—®é¢˜ã€‚modeçš„å‚æ•°å¦‚ä¸‹ï¼š<code>none</code>ä¸è¿›è¡ŒéªŒè¯,èŠ‚çœå¯åŠ¨æ—¶é—´ï¼ŒåŒæ—¶ä¹Ÿå‡å°‘äº†javaæä¾›çš„ä¿æŠ¤ï¼›é»˜è®¤<code>remote</code>éªŒè¯é‚£äº›ä¸æ˜¯è¢«å¼•å¯¼ç±»åŠ è½½å™¨åŠ è½½çš„ç±»ï¼›<code>all</code>éªŒè¯æ‰€æœ‰çš„ç±»</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-XX:-PrintTenuringDistribution</td>
<td>è·Ÿè¸ªæ¯æ¬¡æ–°ç”Ÿä»£GCåï¼ŒsurvivoråŒºä¸­å¯¹è±¡çš„å¹´é¾„åˆ†å¸ƒ</td>
</tr>

<tr>
<td align="center">-XX:-PrintGCTaskTimeStamps</td>
<td>ä¸ºæ¯ä¸ªç‹¬ç«‹çš„gcçº¿ç¨‹æ‰“å°æ—¶é—´æˆ³</td>
</tr>

<tr>
<td align="center">-XX:-PrintStringDeduplicationStatistics</td>
<td>æ‰“å°å­—ç¬¦ä¸²å»é‡ç»Ÿè®¡ä¿¡æ¯</td>
</tr>

<tr>
<td align="center">-XX:-TraceClassLoading</td>
<td>è·Ÿè¸ªç±»çš„åŠ è½½ä¿¡æ¯,å½“ç±»åŠ è½½çš„æ—¶å€™è¾“å…¥è¯¥ç±»ï¼Œé»˜è®¤å…³é—­</td>
</tr>

<tr>
<td align="center">-XX:-TraceClassLoadingPreorder</td>
<td>æŒ‰ç…§å¼•ç”¨é¡ºåºè·Ÿè¸ªç±»åŠ è½½ã€‚é»˜è®¤å…³é—­</td>
</tr>

<tr>
<td align="center">-XX:-TraceClassResolution</td>
<td>è·Ÿè¸ªå¸¸é‡æ± ï¼Œé»˜è®¤å…³é—­</td>
</tr>

<tr>
<td align="center">-XX:-TraceClassUnloading</td>
<td>è·Ÿè¸ªç±»çš„å¸è½½ä¿¡æ¯ï¼Œé»˜è®¤å…³é—­</td>
</tr>

<tr>
<td align="center">-XX:-TraceLoaderConstraints</td>
<td>è·Ÿè¸ªç±»åŠ è½½å™¨çº¦æŸçš„ç›¸å…³ä¿¡æ¯ï¼Œé»˜è®¤å…³é—­</td>
</tr>

<tr>
<td align="center">-XX:-PrintCommandLineFlags</td>
<td>è¾“å‡ºJVMè®¾ç½®çš„é€‰é¡¹å’Œå€¼ï¼Œæ¯”å¦‚ï¼šå †å¤§å°ã€åƒåœ¾å›æ”¶å™¨ç­‰ã€‚é»˜è®¤è¿™ä¸ªé€‰é¡¹æ˜¯å…³é—­çš„ã€‚</td>
</tr>

<tr>
<td align="center">-XX:-G1PrintHeapRegions</td>
<td>æ‰“å°G1æ”¶é›†å™¨æ”¶é›†çš„åŒºåŸŸã€‚é»˜è®¤è¿™ä¸ªé€‰é¡¹æ˜¯å…³é—­çš„ã€‚</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-XX:-CITime</td>
<td>æ‰“å°æ¶ˆè€—åœ¨JITç¼–è¯‘çš„æ—¶é—´</td>
</tr>

<tr>
<td align="center">-XX:-PrintCompilation</td>
<td>æ‰“å°æ–¹æ³•è¢«JITç¼–è¯‘æ—¶çš„ä¿¡æ¯ã€‚</td>
</tr>
</tbody>
</table>

<h2 id="æ€§èƒ½ç›¸å…³">æ€§èƒ½ç›¸å…³</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><strong>-XX:InitialCodeCacheSize=50M</strong></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:ReservedCodeCacheSize=256M</strong></td>
<td>JITç¼–è¯‘ä»£ç çš„æœ€å¤§ç¼“å­˜ï¼Œå’Œ<code>-Xmaxjitcodesize</code> ç±»ä¼¼</td>
</tr>

<tr>
<td align="center">-Xmaxjitcodesize=240m</td>
<td>æŒ‡å®šJITç¼–è¯‘ä»£ç çš„æœ€å¤§ç¼“å­˜ï¼Œé»˜è®¤çš„æœ€å¤§ç¼“å­˜æ˜¯240M</td>
</tr>

<tr>
<td align="center"><strong>-XX:+UseCodeCacheFlushing</strong></td>
<td>ç¼“å­˜è¢«å¡«æ»¡æ—¶è®© JVM æ”¾å¼ƒä¸€äº›ç¼–è¯‘ä»£ç ï¼Œé¿å…åˆ‡æ¢åˆ°è§£é‡Šæ¨¡å¼</td>
</tr>

<tr>
<td align="center">-Xmixed</td>
<td>ä½¿ç”¨æ··åˆæ¨¡å¼è¿è¡Œä»£ç ï¼šè§£é‡Šæ¨¡å¼å’Œç¼–è¯‘æ¨¡å¼</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center"><strong>-XX:+UseCompressedOops</strong></td>
<td>ï¼ˆx64é»˜è®¤å¼€å¯ï¼‰å‡å°‘å†…å­˜çš„ä½¿ç”¨</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Xint</td>
<td>è®¾ç½®jvmä»¥è§£é‡Šæ¨¡å¼è¿è¡Œï¼Œæ‰€æœ‰çš„å­—èŠ‚ç å°†è¢«ç›´æ¥æ‰§è¡Œï¼Œè€Œä¸ä¼šç¼–è¯‘æˆæœ¬åœ°ç </td>
</tr>
</tbody>
</table>

<h2 id="ç³»ç»Ÿå±æ€§">ç³»ç»Ÿå±æ€§</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><strong>-Dsun.net.inetaddr.ttl=60</strong></td>
<td>dnsè§£æ<strong>æˆåŠŸ</strong>çš„ç¼“å­˜è¶…æ—¶çš„è®¾ç½® (0:ç¦æ­¢ç¼“å­˜ï¼Œ<strong>é»˜è®¤-1:æ°¸è¿œæœ‰æ•ˆ</strong>)</td>
</tr>

<tr>
<td align="center"><strong>-Dsun.net.inetaddr.negative.ttl=10</strong></td>
<td>dnsè§£æ<strong>å¤±è´¥</strong>çš„ç¼“å­˜è¶…æ—¶çš„è®¾ç½® (0:ç¦æ­¢ç¼“å­˜ï¼Œ-1:æ°¸è¿œæœ‰æ•ˆï¼Œ<strong>é»˜è®¤10</strong>)</td>
</tr>

<tr>
<td align="center"><em>-Dnetworkaddress.cache.ttl=60</em></td>
<td>(éå®¹å™¨ç¯å¢ƒ) dnsè§£æ<strong>æˆåŠŸ</strong>çš„ç¼“å­˜è¶…æ—¶çš„è®¾ç½® (0:ç¦æ­¢ç¼“å­˜ï¼Œ-1:æ°¸è¿œæœ‰æ•ˆ)</td>
</tr>

<tr>
<td align="center"><em>-Dnetworkaddress.cache.negative.ttl=10</em></td>
<td>(éå®¹å™¨ç¯å¢ƒ) dnsè§£æ<strong>å¤±è´¥</strong>çš„ç¼“å­˜è¶…æ—¶çš„è®¾ç½® (0:ç¦æ­¢ç¼“å­˜ï¼Œ-1:æ°¸è¿œæœ‰æ•ˆ)</td>
</tr>

<tr>
<td align="center">-Dsun.net.client.defaultConnectTimeout=1000</td>
<td>é“¾æ¥è¶…æ—¶æ—¶é—´</td>
</tr>

<tr>
<td align="center">-Dsun.net.client.defaultReadTimeout=4000</td>
<td>è¯»å–è¶…æ—¶æ—¶é—´</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Dcom.sun.management.jmxremote=true</td>
<td>å¼€å¯ JMX ç›‘æ§</td>
</tr>

<tr>
<td align="center">-Dcom.sun.management.jmxremote.port=<port></td>
<td>ç›‘æ§ç«¯å£</td>
</tr>

<tr>
<td align="center">-Dcom.sun.management.jmxremote.ssl=false</td>
<td>é ssl</td>
</tr>

<tr>
<td align="center">-Dcom.sun.management.jmxremote.authenticate=false</td>
<td>å…³æ‰è®¤è¯</td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Duser.timezone=Asia/Shanghai</td>
<td>è®¾ç½®æ—¶åŒº</td>
</tr>

<tr>
<td align="center">-Dfile.encoding=UTF-8</td>
<td></td>
</tr>

<tr>
<td align="center"></td>
<td></td>
</tr>

<tr>
<td align="center">-Djava.awt.headless=true</td>
<td>é¿å…åœ¨winodwså¼€å‘ç¯å¢ƒä¸‹ å›¾ç‰‡æ˜¾ç¤ºçš„å¥½å¥½çš„å¯æ˜¯åœ¨linux/unixä¸‹å´æ˜¾ç¤ºä¸å‡ºæ¥çš„é—®é¢˜</td>
</tr>
</tbody>
</table>

<blockquote>
<p><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html">Networking Properties</a></p>
</blockquote>

<h2 id="å…¶ä»–è®¾ç½®">å…¶ä»–è®¾ç½®</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">-javaagent</td>
<td>é“¾æ¥classæ–‡ä»¶å¯¹å­—èŠ‚ç è¿›è¡Œä¿®æ”¹</td>
</tr>

<tr>
<td align="center">-Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n</td>
<td>å¼€å¯JPDAè¿œç¨‹è°ƒè¯•ã€‚ <code>suspend</code>:yè¡¨ç¤ºå¯åŠ¨çš„JVMä¼šæš‚åœç­‰å¾…ï¼Œç›´åˆ°è°ƒè¯•å™¨è¿æ¥ä¸Šï¼Œnè¡¨ç¤ºä¸æš‚åœç­‰å¾…</td>
</tr>
</tbody>
</table>

<h2 id="æ­é…ç¤ºä¾‹">æ­é…ç¤ºä¾‹</h2>

<pre><code>
</code></pre>

<h2 id="faq">FAQ</h2>

<h3 id="å¦‚ä½•æŸ¥çœ‹jvmé»˜è®¤å‚æ•°">å¦‚ä½•æŸ¥çœ‹JVMé»˜è®¤å‚æ•°ï¼Ÿ</h3>

<h4 id="æ–¹æ³•1-xx-printflagsfinal">æ–¹æ³•1 -XX:+PrintFlagsFinal</h4>

<p>â€=â€è¡¨ç¤ºå‚æ•°çš„é»˜è®¤å€¼ï¼Œè€Œâ€:=â€ è¡¨æ˜äº†å‚æ•°è¢«ç”¨æˆ·æˆ–è€…JVMèµ‹å€¼äº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ java -XX:+PrintFlagsFinal  -version | grep <span style="color:#e6db74">&#34;:=&#34;</span>

...
     bool UseCompressedClassPointers               :<span style="color:#f92672">=</span> true                                <span style="color:#f92672">{</span>lp64_product<span style="color:#f92672">}</span>
     bool UseCompressedOops                        :<span style="color:#f92672">=</span> true                                <span style="color:#f92672">{</span>lp64_product<span style="color:#f92672">}</span>
     bool UseParallelGC                            :<span style="color:#f92672">=</span> true                                <span style="color:#f92672">{</span>product<span style="color:#f92672">}</span>
...</code></pre></div>
<h4 id="æ–¹æ³•2-xx-printcommandlineflags">æ–¹æ³•2 -XX:+PrintCommandLineFlags</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ java -XX:+PrintCommandLineFlags -version

-XX:InitialHeapSize<span style="color:#f92672">=</span><span style="color:#ae81ff">268435456</span> -XX:MaxHeapSize<span style="color:#f92672">=</span><span style="color:#ae81ff">4294967296</span> -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC 
java version <span style="color:#e6db74">&#34;1.8.0_131&#34;</span>
Java<span style="color:#f92672">(</span>TM<span style="color:#f92672">)</span> SE Runtime Environment <span style="color:#f92672">(</span>build <span style="color:#ae81ff">1</span>.8.0_131-b11<span style="color:#f92672">)</span>
Java HotSpot<span style="color:#f92672">(</span>TM<span style="color:#f92672">)</span> <span style="color:#ae81ff">64</span>-Bit Server VM <span style="color:#f92672">(</span>build <span style="color:#ae81ff">25</span>.131-b11, mixed mode<span style="color:#f92672">)</span></code></pre></div>
<h2 id="read-more">Read More</h2>

<blockquote>
<ul>
<li><a href="http://blog.csdn.net/zhushuai1221/article/details/52122880">Java 8: ä»æ°¸ä¹…ä»£ï¼ˆPermGenï¼‰åˆ°å…ƒç©ºé—´ï¼ˆMetaspaceï¼‰</a><br /></li>
<li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html">Java HotSpot VM Command-Line Options</a><br /></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136373.html">HotSpot VM Command Line Options</a><br /></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/tech/index.html">Java SE Technologies</a><br /></li>
</ul>
</blockquote>
</article>

      
<div class="book-footer justify-end">
  
  
  <div>
    <a href="https://github.com/hello-world-example/Java/edit/master/HuGo/content/docs/GC/JVM-Args.md" target="_blank" rel="noopener">
      <img src="/Java/svg/edit.svg" alt="Edit" /> Edit this page
    </a>
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#jvm-å‚æ•°">JVM å‚æ•°</a>
<ul>
<li><a href="#å†…å­˜åˆ†ä»£">å†…å­˜åˆ†ä»£</a></li>
<li><a href="#åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</a></li>
<li><a href="#æ•…éšœæ’æŸ¥">æ•…éšœæ’æŸ¥</a></li>
<li><a href="#æ€§èƒ½ç›¸å…³">æ€§èƒ½ç›¸å…³</a></li>
<li><a href="#ç³»ç»Ÿå±æ€§">ç³»ç»Ÿå±æ€§</a></li>
<li><a href="#å…¶ä»–è®¾ç½®">å…¶ä»–è®¾ç½®</a></li>
<li><a href="#æ­é…ç¤ºä¾‹">æ­é…ç¤ºä¾‹</a></li>
<li><a href="#faq">FAQ</a>
<ul>
<li><a href="#å¦‚ä½•æŸ¥çœ‹jvmé»˜è®¤å‚æ•°">å¦‚ä½•æŸ¥çœ‹JVMé»˜è®¤å‚æ•°ï¼Ÿ</a>
<ul>
<li><a href="#æ–¹æ³•1-xx-printflagsfinal">æ–¹æ³•1 -XX:+PrintFlagsFinal</a></li>
<li><a href="#æ–¹æ³•2-xx-printcommandlineflags">æ–¹æ³•2 -XX:+PrintCommandLineFlags</a></li>
</ul></li>
</ul></li>
<li><a href="#read-more">Read More</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
